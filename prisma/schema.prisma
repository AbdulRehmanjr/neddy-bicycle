generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Account {
  accountId String @id @default(uuid())
  email     String @unique
  password  String
  role      Role   @default(ADMIN)
}

model AccoBooking {
  accoBookingId      String             @id @default(uuid())
  name               String
  surname            String
  email              String
  phone              String
  guesthouse         String
  children           Int
  adults             Int
  babies             Int
  price              String
  payPalBoookingId   String
  room               String             @default("")
  isRefunded         Boolean            @default(false)
  endDate            String             @default("")
  startDate          String             @default("")
  PayPalBoookingInfo PayPalBoookingInfo @relation(fields: [payPalBoookingId], references: [paypalBoookingId], onDelete: Cascade)
}

model Bicycle {
  bicycleId          String               @id @default(uuid())
  name               String
  code               String               @unique
  image              String
  description        String
  price              String
  active             Boolean              @default(true)
  size               String[]
  BicycleBookingItem BicycleBookingItem[]
}

model BicycleBooking {
  bicycleBookingId   String               @id @default(uuid())
  pickup             String
  email              String
  firstName          String
  lastName           String
  phone              String
  arrivalDate        String
  arrivalTime        String
  houseName          String
  payPalBoookingId   String
  isRefunded         Boolean              @default(false)
  price              String               @default("")
  PayPalBoookingInfo PayPalBoookingInfo   @relation(fields: [payPalBoookingId], references: [paypalBoookingId], onDelete: Cascade)
  BicycleBookingItem BicycleBookingItem[]
}

model BicycleBookingItem {
  bicycleBookingItemId String         @id @default(uuid())
  size                 String
  startDate            String
  endDate              String
  dif                  Int
  quantity             Int
  bicycleId            String
  bicycleBookingId     String
  BicycleBooking       BicycleBooking @relation(fields: [bicycleBookingId], references: [bicycleBookingId], onDelete: Cascade)
  Bicycle              Bicycle        @relation(fields: [bicycleId], references: [bicycleId], onDelete: Cascade)
}

model BoatBooking {
  boatBookingId      String             @id @default(uuid())
  name               String
  surname            String
  email              String
  phone              String
  guesthouse         String
  extra              String
  information        String
  children           Int                @default(0)
  adults             Int                @default(0)
  babies             Int                @default(0)
  category           String             @default("")
  bundle             String             @default("")
  time               String             @default("")
  charter            String             @default("")
  date               String             @default("")
  price              String             @default("")
  payPalBoookingId   String
  isRefunded         Boolean            @default(false)
  PayPalBoookingInfo PayPalBoookingInfo @relation(fields: [payPalBoookingId], references: [paypalBoookingId], onDelete: Cascade)
}

model BuggyBooking {
  buggyBookingId     String             @id @default(uuid())
  date               String
  name               String
  surname            String
  price              String
  payPalBoookingId   String
  email              String
  phone              String
  isRefunded         Boolean            @default(false)
  PayPalBoookingInfo PayPalBoookingInfo @relation(fields: [payPalBoookingId], references: [paypalBoookingId], onDelete: Cascade)
}

model Discount {
  discountId         String @id @default(uuid())
  discountName       String
  discountPercantage String
  validTill          String @default("")
  validFrom          String @default("")
}

model PayPalBoookingInfo {
  paypalBoookingId String           @id @default(uuid())
  paymentEmail     String           @default("")
  captureId        String
  payerId          String           @default("")
  paymentId        String           @default("")
  contactEmail     String           @default("")
  AccoBooking      AccoBooking[]
  BicycleBooking   BicycleBooking[]
  BoatBooking      BoatBooking[]
  BuggyBooking     BuggyBooking[]
  BikeBookings     BikeBookings[]
}

model PayPalInfo {
  id                String @id @default(uuid())
  trackingId        String @unique
  merchantId        String
  partner_client_id String
  email             String @unique
}

model BikeBookings {
  bikeBookingId String             @id @default(uuid())
  firstName     String
  lastName      String
  email         String
  phone         String
  address       String
  startDate     String
  endDate       String
  duration      Int                @default(0)
  amount        Int
  kids          Int
  men           Int
  ladies        Int
  pickup        Int
  isRefund      Boolean            @default(false)
  payPal        PayPalBoookingInfo @relation(fields: [payPalId], references: [paypalBoookingId])
  payPalId      String
}

enum Role {
  ADMIN
  SELLER
}
